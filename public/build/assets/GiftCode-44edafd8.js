import{r as u,u as f,j as e,R as b,n as i,b as p}from"./app-4d58a1c1.js";import{G as o}from"./gift-a60ca994.js";const N=()=>{const[l,c]=u.useState(""),[r,d]=u.useState(!1),{user:a}=f(),x=async n=>{var g,m;n.preventDefault();const h=localStorage.getItem("token");if(!h){i.error("Vui lòng đăng nhập để sử dụng gift code");return}if(!l.trim()){i.error("Vui lòng nhập mã gift code");return}d(!0);try{const t=await p.post("/api/claim-giftcode",{code:l.trim()},{headers:{Authorization:h}});if(t.data.alert==="success")i.success("Nhập Gift Code thành công"),c("");else{let s="Có lỗi xảy ra khi nhập gift code";if(t.data.message)switch(t.data.message){case"Gift Code không tồn tại":s="Gift Code không tồn tại";break;case"Gift Code này đã được sử dụng":s="Gift Code này đã được sử dụng";break;case"Tài khoản đã sử dụng hết Gift Code này":s="Tài khoản đã sử dụng hết Gift Code này";break;case"Gift Code đã hết hạn":s="Gift Code đã hết hạn";break;default:s=t.data.message}i.error(s)}}catch(t){console.error("Error claiming gift code:",t);const s=((m=(g=t.response)==null?void 0:g.data)==null?void 0:m.message)||"Có lỗi xảy ra khi nhận gift code";i.error(s)}finally{d(!1)}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h4",{className:"mb-6 flex items-center text-3xl font-extrabold text-gray-900",children:[e.jsx(o,{className:"w-8 h-8 mr-4 text-blue-600"}),"Nhập Gift Code"]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-lg font-semibold text-gray-700",children:"Gift Code"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:l,onChange:n=>c(n.target.value.toUpperCase()),placeholder:"Nhập gift code của bạn",className:"w-full bg-gray-50 text-gray-800 rounded-lg px-4 py-3 border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 uppercase",disabled:r}),e.jsx(o,{className:"absolute right-4 top-3.5 text-gray-400",size:20})]})]}),e.jsx("button",{type:"submit",disabled:r||!a,className:`w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-lg transition duration-200 flex items-center justify-center shadow-lg hover:shadow-xl ${!a||r?"opacity-50 cursor-not-allowed":""}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-5 h-5 animate-spin mr-2"}),"Đang xử lý..."]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-5 h-5 mr-2"}),a?"Nhận Gift Code":"Vui lòng đăng nhập"]})})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Hướng dẫn:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-blue-700",children:[e.jsx("li",{children:"Nhập chính xác gift code bạn nhận được"}),e.jsx("li",{children:"Gift code có thể chỉ sử dụng được một lần duy nhất"}),e.jsx("li",{children:"Một số gift code có thể giới hạn số lần sử dụng cho mỗi tài khoản"}),e.jsx("li",{children:"Gift code có thể có thời hạn sử dụng"})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Lưu ý:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-yellow-700",children:[e.jsx("li",{children:"Kiểm tra kỹ gift code trước khi nhập"}),e.jsx("li",{children:"Không chia sẻ gift code cho người khác"}),e.jsx("li",{children:"Gift code chỉ có hiệu lực trong thời gian quy định"}),e.jsx("li",{children:"Mọi vấn đề về gift code vui lòng liên hệ Admin"})]})]})]})]})};export{N as default};
